# 테스트 배포 자동화

## 준비항목: 
- 안드로이드 프로젝트(파이어베이스 탑재)
- 파이어베이스 프로젝트

## 요구사항(사용자의 플로우 대로 작성)
### 1.출시노트 작성
- 출시노트 작성 하는 창구 후보 목록
  - 이슈를 통한 트리거
    - 장점: 추후 추적 편함, 라벨을 통해서도 관리 가능, 줄바꿈 가능하며 입력 UI가 좋음
    - 단점: 이슈를 더럽힐 수 있음
  - 깃헙액션 매뉴얼로 입력 
    - 장점: 깃에서 간단하게 구현가능(tag보다는 UI가 좋음)
    - 단점: 줄바꿈 불가, UI의 부재로 인해 추후 확인하기 어렵다.
  - anotated tag 메시지
    - 장점: 간단함
    - 단점: 깃크라켄에서 입력창이 너무 작음 cli로 작성하는 방법도 불편함이 따름
    - 문제점 utf-8 인코딩 문제, 깃 크라켄 입력창 UI가 한줄이라 확인 어렵다, 줄바꿈 불가, UI의 부재로 인해 추후 확인하기 어렵다.
  - 안드로이드 내 md 문서 작성
    - 장점: 저장하고 편집하기 쉬움
    - 단점: 기존 내용이 날아가지 않고 업로드되어 혼란을 야기할 수 있음(깃에 애매하게 기록이 보관됨)
  - 슬랙 봇 구현
    - 장점: 예쁘고 저장하고 편집하기 쉬움 -> 슬랙에 스크립트를 작성하면 UI를 따로 구성할 수 있다함(참고 사항)
    - 단점: 엄청 복잡해서 이 또한 유지보수 대상이 될 수 있음

최고로 추천: 깃헙 이슈를 통한 트리거

### 2.앱 빌드
- 기본:기본적인 환경 세팅 및 aab 빌드 구성
- 심화:캐싱 가능한것이 있나 확인후 캐싱할 수 있는 것이 있다면 캐싱하여 속도 개선
 
### 3.테스트앱 배포
- fireBase App Distribution에 배포

### 4.슬랙 메시지 알림
- 기본: 성공 실패여부 채널에 공유
- 심화: 성공 실패여부 채널에 공유 및 관련자 태그하여 템플릿형태의 메시지 특정채널로 전송


## 워크 플로우 단위
1. 입력 워크플로우
2. 빌드 워크플로우
3. 배포 및 슬랙 메시지 알림 워크플로우

다음 단위로 쪼갠 이유
이 예시를 적용한 한국 캐시워크의 경우 빌드 속도가 길기 때문에 앱빌드 워크플로우를 캐싱으로 고도화 시켜야할 필요가 있음 (다른 워크플로우와 연동 및 파일 분리로 인한 캡슐화)
-> flavor, 기타 라이브러리 캐싱


